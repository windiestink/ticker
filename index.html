<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>WindieStink Ticker</title>
  <style>
    @font-face {
      font-family: 'Asgaard';
      src: url('Asgaard-Full.otf') format('opentype');
    }

    body {
      margin: 0;
      overflow: hidden;
      background: black;
    }

    .ticker {
      position: absolute;
      width: 100%;
      white-space: nowrap;
      overflow: hidden;
      top: 20px;
      font-size: 36px;
      font-family: 'Asgaard', sans-serif;
      font-weight: bold;
      color: #00ccff;
      text-shadow: 2px 2px 5px #000;
      animation: scroll-left 30s linear infinite;
    }

    @keyframes scroll-left {
      0%   { transform: translateX(100%); }
      100% { transform: translateX(-100%); }
    }
  </style>
</head>
<body>
  <div class="ticker" id="ticker">Loading latest follower... | Loading latest subscriber... | Loading latest cheerer...</div>

  <script>
    async function fetchData() {
      try {
        const res = await fetch("data");
        const text = await res.text();
        const [follower, sub, cheer] = text.split("|||");
        document.getElementById("ticker").textContent = 
          `Latest Follower: ${follower} | Latest Subscriber: ${sub} | Latest Cheerer: ${cheer}`;
      } catch (err) {
        console.error("Failed to fetch data:", err);
      }
    }

    fetchData();
    setInterval(fetchData, 5000);
  </script>
</body>
</html>