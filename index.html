
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>WindieStink Live Ticker</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      background: transparent;
      overflow: hidden;
      font-family: Arial, sans-serif;
    }

    .ticker-wrapper {
      width: 100vw;
      height: 60px;
      overflow: hidden;
      background-color: transparent;
    }

    .ticker-content {
      display: inline-block;
      white-space: nowrap;
      animation: scroll-left 25s linear infinite;
      font-size: 36px;
      color: #0032FF;
      font-weight: bold;
      padding-left: 100vw;
    }

    @keyframes scroll-left {
      0%   { transform: translateX(0%); }
      100% { transform: translateX(-100%); }
    }
  </style>
</head>
<body>
  <div class="ticker-wrapper">
    <div class="ticker-content" id="ticker">Loading viewer info...</div>
  </div>

  <script>
    const { readFileSync } = require('fs');

    const paths = {
      follower: "D:/streamlabs/most_recent_follower.txt",
      sub: "D:/streamlabs/most_recent_subscriber.txt",
      cheer: "D:/streamlabs/most_recent_cheerer.txt"
    };

    function safeRead(path) {
      try {
        return readFileSync(path, 'utf8').trim() || "[None]";
      } catch {
        return "[Unavailable]";
      }
    }

    function updateTicker() {
      const follower = safeRead(paths.follower);
      const sub = safeRead(paths.sub);
      const cheer = safeRead(paths.cheer);

      const msg = `LATEST FOLLOWER: ${follower}      LATEST SUB: ${sub}      LATEST CHEER: ${cheer}`;
      document.getElementById('ticker').textContent = msg;
    }

    updateTicker();
    setInterval(updateTicker, 5000); // Refresh every 5 seconds
  </script>
</body>
</html>
